Phase 1️⃣ (基礎穩定版)
✅ 目前架構保留 → 不動
✅ 增加：

token 驗證

heartbeat 延遲狀態判斷（ControlServer 裡加判斷 → 不改 GameServer）

Phase 2️⃣ (大廳架構)
✅ 改登入流程：

玩家 login → 進入 Lobby（不用自動 assign GameServer）

ControlServer 增加 get_gameservers → 回目前所有 GameServer 狀態

前端 Lobby 畫面 → 手動選擇 GameServer

Phase 3️⃣ (帳號鎖 + 多端登入處理)
✅ ControlServer 增加：

玩家選擇 GameServer → 會鎖定 player_online_status

如果同帳號再次 login → 踢原 GameServer 或擋登入

GameServer 支援 "kick player" 消息

Phase 4️⃣ (Ready / 觀戰 機制)
✅ GameServer 增加：

ready_players / spectator_players

玩家可以按 Ready / 觀戰

當局遊戲只帶 ready_players 進入 playing

Phase 5️⃣ (美化 + 說明 + icon)
✅ 前端 Lobby：

icon 顯示 GameServer 狀態 + 人數

說明頁 / help

選 GameServer 頁面加好 UX




Player → ControlServer → 登入 → 取得 token
                               ↓
                             Lobby → get_gameservers
                               ↓ 選 GameServer
ControlServer → join_server → GameServer
                               ↓
                          Ready / 觀戰邏輯
                               ↓
                           遊戲進行中
                               ↓
                          leaderboard → 結束

ControlServer ← status_update ← GameServer
ControlServer ← heartbeat ← GameServer
