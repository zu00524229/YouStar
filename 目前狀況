🚫 你目前缺的是什麼？（缺口整理）
1️⃣ 玩家登入 / 註冊系統
沒有註冊流程 → 玩家帳號是手動塞 fake_users 裡

沒有資料庫 → 所以目前登入狀態無法永久保存

要加註冊 → 基本上 會需要資料庫，至少 SQLite 或 MySQL

👉 如果題目沒寫你也可以先用 fake_users 繼續測試功能，等 Lobby 做出來再決定要不要加正式資料庫

2️⃣ Lobby / 大廳
目前玩家一 login 就會 自動被配到 GameServer，沒有 Lobby

缺：讓玩家可以看到 GameServer 狀態，自選要去哪一台

3️⃣ 玩家狀態同步 / 多端登入處理
現在 ControlServer 有 player_online_status → 只是簡單防止「同帳號重複 login」

缺：如果同帳號登入第二次 → 沒有處理通知原 GameServer「踢人」

缺：GameServer 也沒有處理「kick player」邏輯

4️⃣ Ready / 觀戰
現在 GameServer 沒有區分 Ready / 觀戰 → 玩家進來就直接進入遊戲

缺：

玩家進入 GameServer 應該先是觀戰狀態

玩家可以點 Ready 才能進入下一局

遊戲開始只帶 Ready 玩家進入 playing phase

5️⃣ 加密 / 傳輸驗證
現在你用 ws://，明文通訊

缺：

wss:// (加密通訊)

token 驗證（防止非法 client 連 GameServer）

6️⃣ 延遲狀態 / Server 健康判斷
ControlServer heartbeat_checker 有 basic timeout 判斷

缺：

沒有「延遲」健康指標

沒有將延遲狀態回傳給 Lobby → 供玩家看到該 GameServer 健康狀態

# ======================================================================
建議實作順序：

1️⃣ Phase 1 → 先改成手動選 GameServer (Lobby) → 把自動分配改掉
2️⃣ Phase 2 → 加 Ready / 觀戰 機制（可以不用資料庫） → 遊戲流程先跑起來
3️⃣ Phase 3 → 加帳號鎖定 / 踢人機制 → 這樣流程完整
4️⃣ 最後才考慮 → 正式註冊 + 資料庫 + wss + token